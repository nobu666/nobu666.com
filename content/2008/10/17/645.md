+++
date = "2008-10-17T19:01:17+09:00"
draft = false
title = "Jythonの日本語処理がよくわからない"
categories = ["diary"]
+++

jython2.2で<a href="http://www.icu-project.org/">icu4j</a>を試したかったんだけど、どうにもうまくいかない。

[sourcecode lang="python"]
&gt;&gt;&gt; from com.ibm.icu.text import Transliterator
&gt;&gt;&gt; from java.lang import String
&gt;&gt;&gt; print Transliterator.getInstance(&quot;Fullwidth-Halfwidth&quot;).transliterate(String(u&quot;テスト&quot;, &quot;UTF-8&quot;))
???
```

なんだよぅ…普通にJavaで書いてやるとうまくいくんだけど。表示時におかしいのかとファイルにリダイレクトしてみたり、いきなりprintしないで変数に入れたりいろいろ試してて、ふとtypeしてみたら

[sourcecode lang="python"]
&lt;type 'str'&gt;
```

とな。'\uff83\uff7d\uff84'とかいうだたの文字列になってて、ちゃんとUnicodeになってないみたいだ。んんん…
